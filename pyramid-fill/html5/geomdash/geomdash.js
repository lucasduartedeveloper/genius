function resize_screen(){if(window.innerWidth<100)return;document.getElementById("container").style.transform="scale("+window.innerWidth/640+","+window.innerHeight/360+")"};function init(){load_audio(),window.focus();resize_screen();window.onresize=resize_screen;for(var n in sounds)sounds[n].loop=IE?"infinite":!0;document.getElementById("frontpage").style.display="block",document.getElementById("pause_button").style.display="block",document.getElementById("back_button").style.display="block"}function random(n,t){return Math.round(n+Math.random()*(t-n))}function randomChoice(n){return n[Math.round(random(0,n.length-1))]}function Vector2(n,t,i,r){this.x=n,this.y=t,this.width=i,this.height=r,this.previousX=0,this.previousY=0}function Player(n){this.setPosition(n.x,n.y),this.width=n.width,this.height=n.height,this.velocityX=0,this.velocityY=0,this.jumpSize=-16,this.angle=0,this.color="#0f0"}function Platform(n){this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height,this.previousX=0,this.previousY=0,this.color=n.color,this.type=n.type}function PlatformManager(){var a,v,f,y,t,n;this.maxDistanceBetween=300,this.colors=["#2ca8c2","#98cb4a","#f76d3c","#f15f74","#5481e6"],this.first=new Platform({x:0,y:275,width:340,height:40,type:"platform"}),this.second=new Platform({x:this.first.x+this.first.width,y:275,width:340,height:40,type:"platform"}),this.third=new Platform({x:this.second.x+this.second.width,y:275,width:340,height:40,type:"platform"}),this.first.height=this.first.y+dash.height,this.second.height=this.second.y+dash.height,this.third.height=this.third.y+dash.height,this.first.color=randomChoice(this.colors),this.second.color=randomChoice(this.colors),this.third.color=randomChoice(this.colors),this.colliding=!1,this.platforms=[this.first,this.second,this.third];var i=[],e=[],r=[],o=[],s=[],h=[],u=[],c=[],l=[];if(i[0]=[300,335,700,735,1400,1435,3635,3635,3670,3705,3740,4035,4070,4105,4140,4300,4335,4370,4405,4850,4890,5260,5460,5610,6058],e[0]=[0,0,0,0,0,0,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-35,-85,-135,-185,-185],r[0]=[0,150,300,850,1250,1650,2025,2175,2325,2475,2625,2675,2895,2930,3295,3330,3440,3765,4115,4375,4575,4775,4975,5075,5175,5275,5275],o[0]=[0,-50,-100,0,0,-50,-75,-100,-125,-150,-175,-50,-130,-130,-140,-140,0,-50,0,-50,-100,-150,-100,-50,-100,-150,0],s[0]=[35,35,35,250,250,250,35,35,35,35,35,765,35,35,35,35,325,350,200,150,150,150,50,50,50,50,500],h[0]=[35,85,135,35,35,85,10,10,10,10,10,85,10,10,10,10,35,85,35,10,10,10,10,10,10,10,35],u[0]=[37,187,1105,1505,1908,4320],c[0]=[25,25,25,25,25,25],l[0]=[110,110,135,135,760,950],i[1]=[265,397,547,715,2135,2170,2500,2535,3535,3735,3965,4e3,4e3,4035,4070,4105,4140,4300,4335,4370,4405,4350,4750,5260,5460,5610,6058],e[1]=[0,0,0,0,0,0,-35,-35,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-35,0,-85,-100,-155,-185],r[1]=[0,150,343,521,676,800,950,1125,1425,1975,2275,2655,3225,3260,3295,3330,3440,3440,4115,4375,4575,4725,4950,5e3,5175,5275,5275],o[1]=[0,-100,-50,0,-50,0,-75,-50,-50,0,-100,-50,-100,-100,-100,-100,0,-150,0,-100,-50,-100,-50,-50,-100,-150,0],s[1]=[35,35,35,35,35,35,35,100,100,200,200,765,35,35,35,35,325,350,200,35,35,35,50,50,50,50,500],h[1]=[35,135,85,10,10,10,10,10,10,35,10,85,10,10,10,10,35,10,35,10,10,10,10,10,10,10,35],u[1]=[37,187,1416,1908,4320],c[1]=[25,25,25,25,25],l[1]=[105,1005,135,740,950],i[2]=[1070,1325,1335,1345,2300,2375,3e3,3250,3500,],e[2]=[-195,-235,-165,-85,-195,-295,-150,-150,-150],r[2]=[5325,-135,65,185,250,400,530,1e3,1200,1350,1300,1650,1950,2100,2225,2300,2475,2600,2685,3250,3450,3575,3700,3850,4025,4400,4625,4800,4975,5150,5325],o[2]=[0,0,-85,-135,-85,-135,-10,0,-85,-135,-35,0,0,-85,0,-85,0,-85,-20,0,-50,-100,0,-50,-100,-85,-85,-75,-75,-65,-65],s[2]=[500,135,35,35,35,35,180,135,35,150,150,35,135,35,35,100,35,35,45,135,35,35,35,100,250,100,35,35,35,35,35],h[2]=[35,35,10,10,10,10,10,35,10,10,10,10,35,10,10,10,10,10,10,35,85,135,10,10,135,10,10,10,10,10,100],u[2]=[0,1035,1985,3735],c[2]=[25,25,25,25],l[2]=[750,750,750,250],i[3]=[550,1070,1275,1305,1245,2300,2375,3e3,3250,3500,],e[3]=[0,0,-165,-165,-165,-195,-295,-150,-150,-150],r[3]=[-135,65,185,380,415,530,1e3,1200,1350,1300,1650,1950,2100,2225,2300,2475,2600,2725,3250,3450,3575,3750,3900,4085],o[3]=[0,-35,-85,-135,-135,-10,0,-85,-135,500,0,0,-85,0,-85,0,-85,0,0,-50,-100,-150,-50,-100],s[3]=[35,35,35,35,35,180,135,35,150,150,35,135,35,35,100,35,35,35,135,35,35,35,35,32],h[3]=[10,10,10,10,10,10,35,10,10,10,10,35,10,10,10,10,10,10,10,10,10,10,10,135],u[3]=[0,1335,2125,3735],c[3]=[25,25,25,25],l[3]=[750,450,570,250],i[4]=[365,397,675,715,2135,2170,2500,2535,3535,3735,3965,4e3,4e3,4035,4070,4105,4140,4300,4335,4370,4405,4350,4750,5260,5460,5610,6058],e[4]=[-0,0,0,0,0,0,0,0,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-85,-35,0,-85,-100,-155,-185],r[4]=[0,150,343,521,676,900,930,1125,1425,1975,2275,2655,3225,3260,3295,3330,3440,3440,4115,4375,4575,4725,4950,5e3,5175,5275,5275],o[4]=[0,-50,-75,-100,-125,-100,-100,-50,-25,0,-100,-50,-100,-100,-100,-100,0,-150,0,-100,-50,-100,-50,-50,-100,-150,0],s[4]=[35,35,35,35,35,35,35,100,100,200,200,765,35,35,35,35,325,350,200,35,35,35,50,50,50,50,500],h[4]=[10,10,10,10,10,10,10,10,10,35,10,85,10,10,10,10,35,10,35,10,10,10,10,10,10,10,35],u[4]=[37,187,1416,1908,4320],c[4]=[25,25,25,25,25],l[4]=[105,1005,135,740,950],/\d/.test(location.host)){a=1275,v=500,platform_x_last=0,level<3&&(f=[level]),level==3&&(f=[3]),level==4&&(f=[4]),level==5&&(f=[2,1]),level==6&&(f=[4,3]);for(y in f){t=f[y];for(n in r[t])new_platform=new Platform({x:a+r[t][n],y:243+o[t][n],width:s[t][n],height:h[t][n],type:"block"}),this.platforms.push(new_platform);for(n in i[t])new_platform=new Platform({x:v+i[t][n],y:243+e[t][n],width:32,height:32,type:"spike"}),this.platforms.push(new_platform);for(n in u[t])new_platform=new Platform({x:a+u[t][n],y:243+c[t][n]-24,width:l[t][n],height:32,type:"trap"}),this.platforms.push(new_platform);for(n in this.platforms)this.platforms[n].x+this.platforms[n].width>platform_x_last&&(platform_x_last=this.platforms[n].x+this.platforms[n].width,last_platform=n);a+=platform_x_last-400,v+=platform_x_last-400}}}function change_level(n){var t=6;level+=n,level<0&&(level=t),level>t&&(level=0),document.getElementById("level_number").innerHTML=level- -1}function dhm(n){n/=100;var i=n/1e3,r=i<<0,t=Math.floor(i*60%60);return t<10&&(t="0"+t),r+":"+t}function Particle(n){this.x=n.x,this.y=n.y,this.size=10,this.velocityX=n.velocityX||random(-(dash.aceleration*3)+-8,-(dash.aceleration*3)),this.velocityY=n.velocityY||random(-(dash.aceleration*3)+-8,-(dash.aceleration*3)),this.color=n.color}function retry(){dash.setup(),dash.start()}function menu(){document.getElementById("level_complete").style.display="none",document.getElementById("frontpage").style.display="block",dash.level_over=!1,dash.stop(),stop_sound(this_track)}function start_game(){window.focus();document.getElementById("frontpage").style.display="none",this_track=level%2,play_sound(this_track),dash.setup(),dash.start()}function play_sound(n){audio_on&&(sounds_loaded[n]||(sounds[n].load(),sounds_loaded[n]=!0),sounds[n].play())}function stop_sound(n){if(audio_on)try{sounds[n].pause(),sounds[n].currentTime=0}catch(t){}}function mute(n){n.pause()}function _pl(){this.Audio.src=this.wav}function _st(){this.Audio.src=""}function _cu(){}function nf(){return}function audio(n){return document.all&&(this.Audio=document.createElement("bgsound"),this.Audio)?(this.wav=n,this.Audio.loop=0,this.Audio.autostart=!1,document.getElementById("sb").appendChild(this.Audio),this.play=_pl,this.pause=_st,this.stop=_st,this.currentTime=_cu,this):(this.play=nf,this.stop=nf,this)}function load_audio(){try{sounds[0]=new Audio(""),sound_type="html5"}catch(t){sound_type="ie"}sound_type="html5",sound_extension=sounds[0].canPlayType&&sounds[0].canPlayType("audio/mpeg;").replace(/no/,"")?"mp3":"ogg";for(var n=0;n<sound_files.length;n++)sound_type=="html5"?(sounds[n]=new Audio(""),sounds[n].src=sound_files[n]):sounds[n]=new audio("sounds/"+sound_files[n]+".mp3"),IE&&(sounds_loaded[n]=!0)}function audio_toggle(){document.getElementById("level_complete").style.display!="block"&&(audio_on?(stop_sound(this_track),audio_on=!audio_on,dash.stop()):(audio_on=!audio_on,play_sound(this_track),dash.start()),document.getElementById("pause_button").style.backgroundImage=audio_on?"url(images/pause.png)":"url(images/play.png)")}function leftClick(n){return window.focus(),n||(n=event),typeof n.which=="undefined"?n.button==1:n.which==1||n.button==0}function nrc(n){if(leftClick(n)==!1)return ce(n)}function cp(n){n||(n=event),n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="undefined"&&(n.cancelBubble=!0)}function ce(n){return n||(n=event),typeof n.preventDefault!="undefined"?n.preventDefault():typeof n.cancelBubble!="undefined"&&(n.returnValue=0,n.cancelBubble=!0),!1}var flip=!1,level_over=!1,level=0,attempt_text_start=400,this_track=1,Sketch,i,dash;typeof document.oncontextmenu!="undefined"?document.oncontextmenu=ce:document.onclick=nrc,typeof document.onselectstart!="undefined"&&(document.onselectstart=ce),typeof document.ondragstart!="undefined"&&(document.ondragstart=ce),Sketch=function(){function d(t){t=f(t||{},a);var e="sketch-"+b++,r=t.hasOwnProperty("canvas"),i=r?t.canvas:document.createElement("canvas");switch(t.type){case h:try{n=i.getContext("webgl",t)}catch(s){}try{n=n||i.getContext("experimental-webgl",t)}catch(s){}if(!n)throw"WebGL not supported";break;case o:try{n=i.getContext("2d",t)}catch(s){}if(!n)throw"Canvas not supported";break;default:i=n=document.createElement("div")}return n.canvas=i,i.className="sketch",r?t.autoresize=!1:(t.container.appendChild(i),t.hasOwnProperty("autoresize")||(t.autoresize=a.autoresize),i.id=e),f(self,k),f(n,t),f(n,v),g(),t.autoresize&&w(),u.push(n),n.autostart&&setTimeout(n.start,0),n}function f(n,t){for(var i in t)n.hasOwnProperty(i)||(n[i]=t[i]);return n}function y(n){function r(n,t){return function(){n.call(t,arguments)}}var i={},t;for(t in n)i[t]=typeof n[t]=="function"?r(n[t],n):n[t];return i}function e(n,t){n.length=0;for(var i=0,r=t.length;i<r;i++)n[i]=t[i];return n}function g(){function l(n){return s[n]||String.fromCharCode(n)}function h(t){n.mouse.ox=n.mouse.x,n.mouse.oy=n.mouse.y,n.mouse.x=t.x,n.mouse.y=t.y,n.mouse.dx=n.mouse.x-n.mouse.ox,n.mouse.dy=n.mouse.y-n.mouse.oy}function u(t){var f,r=y(t),e,u;r.original=t;for(var o=n.canvas,s=0,h=0;o;o=o.offsetParent)s+=o.offsetLeft,h+=o.offsetTop;if(r.touches&&!!r.touches.length)for(e=r.touches.length-1;e>=0;e--)u=r.touches[e],u.x=u.pageX-s,u.y=u.pageY-h,f=i[e]||u,u.dx=u.x-f.x,u.dy=u.y-f.x,u.ox=f.x,u.oy=f.y,i[e]=y(u);else r.x=r.pageX-s,r.y=r.pageY-h,f=i.mouse||r,r.dx=r.x-f.x,r.dy=r.y-f.y,r.ox=f.x,r.oy=f.y,i.mouse=r;return r}function a(t){t.preventDefault(),t=u(t),e(n.touches,t.touches),h(n.touches[0]),dash.touching=!0,n.touchstart&&n.touchstart(t),n.mousedown&&n.mousedown(t)}function p(t){t=u(t),e(n.touches,t.touches),h(n.touches[0]),n.touchmove&&n.touchmove(t),n.mousemove&&n.mousemove(t)}function b(t){if(t=u(t),t.touches.length)for(var r in i)t.touches[r]||delete i[r];else i={};dash.touching=!1,n.touchend&&n.touchend(t),n.mouseup&&n.mouseup(t)}function k(t){t=u(t),n.mouseover&&n.mouseover(t)}function d(i){i=u(i),n.dragging||(r(n.canvas,"mousemove",f),r(n.canvas,"mouseup",o),t(document,"mousemove",f),t(document,"mouseup",o),n.dragging=!0),e(n.touches,[i]),n.touchstart&&n.touchstart(i),n.mousedown&&n.mousedown(i)}function f(t){t=u(t),h(t),e(n.touches,[t]),n.touchmove&&n.touchmove(t),n.mousemove&&n.mousemove(t)}function g(t){t=u(t),n.mouseout&&n.mouseout(t)}function o(e){e=u(e),n.dragging&&(r(document,"mousemove",f),r(document,"mouseup",o),t(n.canvas,"mousemove",f),t(n.canvas,"mouseup",o),n.dragging=!1),delete i.mouse,n.touchend&&n.touchend(e),n.mouseup&&n.mouseup(e)}function nt(t){t=u(t),n.click&&n.click(t)}function tt(t){t.preventDefault();n.keys[l(t.keyCode)]=!0,n.keys[t.keyCode]=!0,n.keydown&&n.keydown(t)}function it(t){t.preventDefault();n.keys[l(t.keyCode)]=!1,n.keys[t.keyCode]=!1,n.keyup&&n.keyup(t)}var s={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},c,i;for(c in s)v.keys[s[c]]=!1;i={},t(n.canvas,"touchstart",a),t(n.canvas,"touchmove",p),t(n.canvas,"touchend",b),t(n.canvas,"mouseover",k),t(n.canvas,"mousedown",d),t(n.canvas,"mousemove",f),t(n.canvas,"mouseout",g),t(n.canvas,"mouseup",o),t(n.canvas,"click",nt),t(document,"keydown",tt),t(document,"keyup",it),t(window,"resize",w)}function p(){var t,i;n.update&&n.update(n.dt),s||(t=Date.now(),n.dt=t-n.now,n.millis+=n.dt,n.now=t,dash.clear(),dash.draw(dash)),s=++s%n.interval,i=55,dash.running&&(l=setTimeout(p,1e3/i))}function w(){if(n.autoresize){var i=n.type===c?n.style:n.canvas;n.fullscreen?(n.height=i.height=window.innerHeight,n.width=i.width=window.innerWidth):(i.height=n.height,i.width=n.width),n.resize&&n.resize()}}var b=0,o="canvas",h="web-gl",c="dom",n,s=0,l=-1,i={},u=[],a={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,autoresize:!0,container:document.body,interval:1,type:o},k={PI:Math.PI,TWO_PI:Math.PI*2,HALF_PI:Math.PI/2,QUARTER_PI:Math.PI/4,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan2:Math.atan2,atan:Math.atan,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,random:function(n,t){return n&&typeof n.length=="number"&&!!n.length?n[Math.floor(Math.random()*n.length)]:(typeof t!="number"&&(t=n||1,n=0),n+Math.random()*(t-n))}},v={millis:0,now:NaN,dt:NaN,keys:{},mouse:{x:0,y:0,ox:0,oy:0,dx:0,dy:0},touches:[],initialized:!1,dragging:!1,running:!1,start:function(){n.running||(n.setup&&!n.initialized&&(n.autopause&&(t(window,"focus",n.start),t(window,"blur",n.stop)),n.setup()),n.initialized=!0,n.running=!0,n.now=Date.now(),p())},stop:function(){cancelAnimationFrame(l),n.running=!1},toggle:function(){(n.running?n.stop:n.start)()},clear:function(){n.canvas&&n.clearRect(0,0,n.width,n.height)},destroy:function(){var e,t,o,s,f,h;u.splice(u.indexOf(n),1),n.stop();for(t in i){for(o=i[t],f=0,h=o.length;f<h;f++)e=o[f],r(e.el,t,e.fn);delete i[t]}n.container.removeChild(n.canvas);for(s in n)n.hasOwnProperty(s)&&delete n[s]}},t=function(){function n(n,t,r){i[t]||(i[t]=[]),i[t].push({el:n,fn:r})}return window.addEventListener?function(t,i,r){t.addEventListener(i,r,!1),n(t,i,r)}:window.attachEvent?function(t,i,r){t.attachEvent("on"+i,r),n(t,i,r)}:function(t,i,r){t["on"+i]=r,n(t,i,r)}}(),r=function(){function n(n,t,r){var f,u;if(i[t])for(u=i[t].length-1;u>=0;u--)f=i[t][u],f.el===n&&f.fn===r&&i[t].splice(u,1)}if(window.removeEventListener)return function(t,i,r){t.removeEventListener(i,r,!1),n(t,i,r)};if(window.detachEvent)return function(t,i,r){t.detachEvent("on"+i,r),n(t,i,r)};el["on"+ev]=null,n(el,ev,fn)}();return{CANVAS:o,WEB_GL:h,DOM:c,instances:u,create:d}}(),Date.now||(Date.now=function(){return+new Date}),function(){for(var i=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=Date.now(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();var sounds=[],sounds_loaded=[],sound_files=["https://archive.org/download/geometry_dash1.9/Geometry%20Dash%20OST/StereoMadness.mp3","https://archive.org/download/geometry_dash1.9/Geometry%20Dash%20OST/HexagonForce.mp3"],audio_on=!0,IE=!1;/*@cc_on IE=!0@*/;i=0,dash=Sketch.create({fullscreen:!1,width:640,height:360,autostart:!1,autopause:!1,container:document.getElementById("container")}),Vector2.prototype.setPosition=function(n,t){this.previousX=this.x,this.previousY=this.y,this.x=n,this.y=t},Vector2.prototype.setX=function(n){this.previousX=this.x,this.x=n},Vector2.prototype.setY=function(n){this.previousY=this.y,this.y=n},Vector2.prototype.intersects=function(n){return n.x<this.x+this.width&&n.y<this.y+this.height&&n.x+n.width>this.x&&n.y+n.height>this.y?!0:!1},Vector2.prototype.intersectsLeft=function(n){return n.x<this.x+this.width&&n.y<this.y+this.height?!0:!1},Player.prototype=new Vector2,Player.prototype.update=function(){this.velocityY+=1,this.setPosition(this.x+this.velocityX,this.y+this.velocityY),this.y>dash.height&&document.getElementById("level_complete").style.display!="block"&&(this.x=150,this.y=dash.platformManager.platforms[0].y-this.height,this.velocityX=0,this.velocityY=0,dash.attemptCount++,dash.attemptTextPos=attempt_text_start,dash.jumpCount=0,dash.aceleration=0,dash.acelerationTweening=0,dash.scoreColor="#181818",dash.platformManager.maxDistanceBetween=350),this.velocityY!=1?this.angle+=.1:this.angle=flip?PI:0,(dash.keys.UP||dash.keys.SPACE||dash.keys.W||dash.dragging||dash.touching)&&this.velocityY<-8},Player.prototype.draw=function(){dash.save(),dash.translate(this.x+16,this.y+16),dash.rotate(this.angle),dash.drawImage(document.getElementById("main_sprite"),-16,-16,this.width,this.height),dash.restore()},Platform.prototype=new Vector2,Platform.prototype.draw=function(){var n,t;if(this.type=="platform")dash.strokeStyle="#0a7dac",dash.lineWidth=12,dash.strokeRect(this.x+6,this.y+6,this.width-12,this.height-12),dash.fillStyle="#085b85",dash.fillRect(this.x+12,this.y+12,this.width-24,80);else if(this.type=="trap")for(n=0;n<=this.width;n+=32)t=this.width-n,t>32&&(t=32),dash.drawImage(document.getElementById("trap_sprite"),0,0,t,this.height,this.x+n,this.y,t,this.height);else if(this.type=="block")dash.strokeStyle="#fff",dash.lineWidth=2,dash.strokeRect(this.x,this.y,this.width-4,this.height-4),dash.fillStyle="#000",dash.fillRect(this.x+2,this.y+2,this.width-8,this.height-8);else if(this.type=="spike"){dash.drawImage(document.getElementById("spike_sprite"),this.x,this.y,this.width,this.height);return}},PlatformManager.prototype.update=function(){var n,t;if(dash.player.width!=2&&!dash.level_over)for(n in this.platforms)this.platforms[n].x-=5.1,n<3?(t=n>0?n-1:2,this.platforms[n].x+this.platforms[n].width<0&&(this.platforms[n].x=this.platforms[t].x+this.platforms[t].width-5)):this.platforms[n].x+this.platforms[n].width<0&&this.platforms[n].x+this.platforms[n].width>-10&&n==last_platform&&dash.level_complete()},dash.level_complete=function(){dash.level_over||document.getElementById("frontpage").style.display=="block"||(document.getElementById("level_complete").style.display="block",document.getElementById("lc_attempts").innerHTML=dash.attemptCount,document.getElementById("lc_jumps").innerHTML=dash.jumpCount,document.getElementById("lc_time").innerHTML=dhm(Date.now()-dash.time),dash.level_over=!0),dash.player.x+=4,dash.player.x>dash.width+100&&dash.stop()},dash.updateWhenLose=function(){document.getElementById("frontpage").style.display!="block"&&(dash.player.width>2||(dash.attemptCount++,dash.attemptTextPos=attempt_text_start,dash.platformManager=new PlatformManager,dash.collidedPlatform=null,dash.interval=1,dash.player.x=150,dash.player.y=243,dash.player.velocityX=0,dash.player.velocityY=0,dash.player.angle=0,flip=!1,dash.player.width=32,dash.player.height=32,dash.aceleration=0,play_sound(this_track)))},Particle.prototype.update=function(){this.x+=this.velocityX,this.y+=this.velocityY,this.size*=.89},Particle.prototype.draw=function(){dash.fillStyle=this.color,dash.fillRect(this.x,this.y,this.size,this.size)},dash.setup=function(){this.jumpCount=0,this.attemptCount=1,this.attemptTextPos=attempt_text_start,this.time=Date.now(),this.aceleration=0,this.acelerationTweening=0,this.player=new Player({x:150,y:243,width:32,height:32}),this.platformManager=new PlatformManager,this.particles=[],this.particlesIndex=0,this.particlesMax=20,this.collidedPlatform=null,this.scoreColor="#181818",this.jumpCountRecord=0,this.interval=1,this.player.width=32,this.player.height=32,this.player.angle=0,flip=!1,this.aceleration=0,this.level_over=!1,document.getElementById("level_complete").style.display="none"},dash.update=function(){for(this.player.update(),this.acelerationTweening=1,this.platformManager.maxDistanceBetween=430,this.scoreColor="#076C00",i=0;i<this.platformManager.platforms.length;i++)this.player.intersects(this.platformManager.platforms[i])&&(this.collidedPlatform=this.platformManager.platforms[i],(this.collidedPlatform.type=="spike"||this.collidedPlatform.type=="trap")&&this.player.width>2?(this.player.y=this.platformManager.platforms[i].y,this.player.velocityY=0,this.playerDie()):(this.player.y<this.platformManager.platforms[i].y&&(this.player.y=this.platformManager.platforms[i].y,this.player.velocityY=0),this.player.x=this.player.previousX,this.player.y=this.player.previousY,this.player.width>2&&(this.particles[this.particlesIndex++%this.particlesMax]=new Particle({x:this.player.x,y:this.player.y+this.player.height,color:"#fff"})),this.player.intersectsLeft(this.platformManager.platforms[i])?(this.player.x=this.collidedPlatform.x-64,this.playerDie()):(this.dragging||this.keys.SPACE||this.keys.UP||this.keys.W||dash.touching)&&this.collidedPlatform.type!="trap"&&(this.player.velocityY=this.player.jumpSize,flip=!flip,this.jumpCount++)));for(this.platformManager.update(),i=0;i<this.particles.length;i++)this.particles[i].update()},dash.playerDie=function(){if(document.getElementById("level_complete").style.display!="block"){for(stop_sound(this_track),i=0;i<10;i++)this.particles[this.particlesIndex++%this.particlesMax]=new Particle({x:this.player.x+this.player.width,y:random(this.player.y,this.player.y+this.player.height),velocityY:random(-30,30),color:"#0f0"});dash.player.width=2,dash.player.height=2,dash.interval=3,setTimeout(dash.updateWhenLose,1500)}},dash.draw=function(){for(this.player.draw(),i=0;i<this.platformManager.platforms.length;i++)this.platformManager.platforms[i].draw();for(i=0;i<this.particles.length;i++)this.particles[i].draw();this.attemptTextPos>-200&&(this.font="32px pusab",this.fillStyle="#fff",this.lineWidth=1,this.strokeStyle="#000",this.fillText("ATTEMPT "+this.attemptCount,this.attemptTextPos,100),this.attemptTextPos-=10),dash.level_over&&dash.level_complete()},dash.resize=function(){}